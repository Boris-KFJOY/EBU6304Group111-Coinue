<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<VBox xmlns="http://javafx.com/javafx"
      xmlns:fx="http://javafx.com/fxml"
      fx:controller="com.coinue.controller.ManualEntryDialogController"
      spacing="10"
      prefWidth="600"
      prefHeight="500"
      style="-fx-background-color: linear-gradient(to right, #ffffff,rgb(192, 213, 255) 75%, #ffffff);">

    <!-- Top Navigation -->
    <HBox alignment="CENTER" spacing="0" style="-fx-background-color: #B0E0FF;" VBox.vgrow="NEVER">
        <Button text="Manual Entry" style="-fx-background-color: transparent; -fx-min-width: 100%; -fx-font-weight: bold;" maxWidth="Infinity" HBox.hgrow="ALWAYS"/>
    </HBox>

    <!-- Main Content -->
    <VBox spacing="20.0" VBox.vgrow="ALWAYS">
        <padding>
            <Insets top="20.0" left="20.0" right="20.0" bottom="20.0"/>
        </padding>

        <!-- 主内容区域 -->
        <VBox spacing="15.0" style="-fx-background-color: white; -fx-background-radius: 10px; -fx-padding: 20px; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.1), 10, 0, 0, 5);">
            <!-- 类别选择 - 修改为包含Expenses和Income的选项 -->
            <HBox spacing="10.0">
                <RadioButton fx:id="expensesRadio" text="Expenses" selected="true" style="-fx-font-size: 14px;">
                    <toggleGroup>
                        <ToggleGroup fx:id="recordTypeGroup"/>
                    </toggleGroup>
                </RadioButton>
                <RadioButton fx:id="incomeRadio" text="Income" toggleGroup="$recordTypeGroup" style="-fx-font-size: 14px;"/>
            </HBox>
            
            <!-- 类别选择 -->
            <VBox spacing="5">
                <Label text="Category" style="-fx-font-size: 14px; -fx-font-weight: bold; -fx-text-fill: #333333;"/>
                <ComboBox fx:id="categoryComboBox" promptText="选择类别" prefWidth="Infinity" maxWidth="Infinity" 
                         style="-fx-background-color: #F5F5F5; -fx-border-color: #E0E0E0; -fx-border-radius: 5px; -fx-background-radius: 5px; -fx-padding: 8px;"/>
            </VBox>
            
            <!-- 子类别列表 -->
            <VBox spacing="5">
                <Label text="Subcategory" style="-fx-font-size: 14px; -fx-font-weight: bold; -fx-text-fill: #333333;"/>
                <ListView fx:id="subCategoryListView" prefHeight="120.0" maxHeight="120.0"
                         style="-fx-background-color: #F5F5F5; -fx-border-color: #E0E0E0; -fx-border-radius: 5px; -fx-background-radius: 5px;"/>
            </VBox>
            
            <!-- 名称输入 -->
            <VBox spacing="5">
                <Label text="Name" style="-fx-font-size: 14px; -fx-font-weight: bold; -fx-text-fill: #333333;"/>
                <TextField fx:id="nameField" promptText="Enter name" 
                          style="-fx-background-color: #F5F5F5; -fx-border-color: #E0E0E0; -fx-border-radius: 5px; -fx-background-radius: 5px; -fx-padding: 8px;"/>
            </VBox>
            
            <!-- 金额输入和币种选择 -->
            <VBox spacing="5">
                <Label text="Amount" style="-fx-font-size: 14px; -fx-font-weight: bold; -fx-text-fill: #333333;"/>
                <HBox spacing="10.0">
                    <TextField fx:id="amountField" promptText="Enter Amount" HBox.hgrow="ALWAYS"
                              style="-fx-background-color: #F5F5F5; -fx-border-color: #E0E0E0; -fx-border-radius: 5px; -fx-background-radius: 5px; -fx-padding: 8px;"/>
                    <ComboBox fx:id="currencyComboBox" prefWidth="100.0" promptText="CNY" 
                             style="-fx-background-color: #F5F5F5; -fx-border-color: #E0E0E0; -fx-border-radius: 5px; -fx-background-radius: 5px; -fx-padding: 8px;"/>
                </HBox>
            </VBox>
            
            <!-- 备注输入 -->
            <VBox spacing="5">
                <Label text="Notes" style="-fx-font-size: 14px; -fx-font-weight: bold; -fx-text-fill: #333333;"/>
                <TextArea fx:id="noteField" promptText="Click to write notes" prefHeight="80.0" maxHeight="80.0"
                         style="-fx-background-color: #F5F5F5; -fx-border-color: #E0E0E0; -fx-border-radius: 5px; -fx-background-radius: 5px; -fx-padding: 8px;"/>
            </VBox>
            
            <!-- 日期选择 -->
            <VBox spacing="5">
                <Label text="Date" style="-fx-font-size: 14px; -fx-font-weight: bold; -fx-text-fill: #333333;"/>
                <DatePicker fx:id="datePicker" prefWidth="Infinity" maxWidth="Infinity"
                           style="-fx-background-color: #F5F5F5; -fx-border-color: #E0E0E0; -fx-border-radius: 5px; -fx-background-radius: 5px;"/>
            </VBox>
            
            <!-- 快速选项 -->
            <VBox spacing="10">
                <HBox alignment="CENTER_LEFT" spacing="10.0">
                    <Label text="Quick Entry" style="-fx-font-size: 14px; -fx-text-fill: #666666;"/>
                    <Button fx:id="quickEntryButton" style="-fx-background-color: #E0E0E0; -fx-background-radius: 10; -fx-min-width: 20; -fx-min-height: 20; -fx-max-width: 20; -fx-max-height: 20;" disable="true"/>
                </HBox>
                
                <HBox alignment="CENTER_LEFT" spacing="10.0">
                    <Label text="Family Member Sharing" style="-fx-font-size: 14px; -fx-text-fill: #666666;"/>
                    <Button fx:id="familySharingButton" style="-fx-background-color: #E0E0E0; -fx-background-radius: 10; -fx-min-width: 20; -fx-min-height: 20; -fx-max-width: 20; -fx-max-height: 20;" disable="true"/>
                </HBox>
            </VBox>
        </VBox>
        
        <!-- 底部按钮区域 -->
        <HBox spacing="15.0" alignment="CENTER" style="-fx-background-color: white; -fx-background-radius: 10px; -fx-padding: 15px; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.1), 10, 0, 0, 5);">
            <Button text="📁 Import (.csv)" onAction="#handleImport"
                   style="-fx-background-color: #2196F3; -fx-text-fill: white; -fx-background-radius: 5px; -fx-padding: 10px 20px; -fx-font-size: 14px;"
                   prefWidth="140.0"/>
            <Button fx:id="saveButton" text="💾 Save" onAction="#handleSave"
                   style="-fx-background-color: #4CAF50; -fx-text-fill: white; -fx-background-radius: 5px; -fx-padding: 10px 20px; -fx-font-size: 14px;"
                   prefWidth="140.0"/>
            <Button text="❌ Cancel" onAction="#handleCancel"
                   style="-fx-background-color: #FF5722; -fx-text-fill: white; -fx-background-radius: 5px; -fx-padding: 10px 20px; -fx-font-size: 14px;"
                   prefWidth="140.0"/>
        </HBox>
    </VBox>
</VBox>