<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.geometry.Insets?>

<VBox xmlns="http://javafx.com/javafx"
      xmlns:fx="http://javafx.com/fxml"
      fx:controller="com.coinue.controller.MainPageController"
      spacing="10"
      style="-fx-background-color: #F0F8FF;">

    <!-- Top Navigation -->
    <HBox alignment="CENTER" spacing="0" style="-fx-background-color: #B0E0FF;" VBox.vgrow="NEVER">
        <Button text="Homepage" style="-fx-background-color: transparent; -fx-min-width: 33.33%;" onAction="#handleHomeNav" maxWidth="Infinity" HBox.hgrow="ALWAYS"/>
        <Button text="Analysis" style="-fx-background-color: transparent; -fx-min-width: 33.33%;" onAction="#handleAnalysisNav" maxWidth="Infinity" HBox.hgrow="ALWAYS"/>
        <Button text="Dashboard" style="-fx-background-color: transparent; -fx-min-width: 33.33%;" onAction="#handleUserNav" maxWidth="Infinity" HBox.hgrow="ALWAYS"/>
    </HBox>

    <!-- Main Content -->
    <HBox spacing="10" VBox.vgrow="ALWAYS">
        <!-- Left Side -->
        <VBox spacing="10" HBox.hgrow="ALWAYS" prefWidth="400">
            <!-- Coin Image for Manual Entry -->
            <HBox alignment="CENTER" VBox.vgrow="ALWAYS">
                <ImageView fx:id="coinImageView" onMouseClicked="#handleCoinClick" 
                          fitHeight="200" fitWidth="200" preserveRatio="true">
                    <image>
                        <Image url="@../images/Coinue.png"/>
                    </image>
                </ImageView>
            </HBox>
            
            <!-- Budget Section -->
            <VBox alignment="CENTER" spacing="10">
                <Button text="添加预算" onAction="#handleAddBudget"/>
                <ListView fx:id="budgetListView" VBox.vgrow="ALWAYS" 
                         style="-fx-min-height: 200;"/>
            </VBox>
        </VBox>

        <!-- Right Side - Payment Reminders -->
        <VBox spacing="10" HBox.hgrow="ALWAYS" prefWidth="400">
            <Label text="Repayment reminder" style="-fx-font-size: 18;"/>
            <ListView fx:id="reminderListView" VBox.vgrow="ALWAYS"/>
            <Button text="添加还款提醒" onAction="#handleAddReminder"/>
        </VBox>
    </HBox>
</VBox>